$(document).ready(function() {

	var username="bob"; 
	var hasPost=hasEvent();
	var postObj="the object";
	var friends="my friends";
	var friendsMissing="missing?";


  Parse.initialize("E3aKqq2sCS2aC20YyNALua7YMGxMMZd71IJ0iTHb",
                   "NAU96IHJ6zOUUOpqaLVEj1dCMPv4H02N8B4SetPR");

	window.fbAsyncInit = function() {
	Parse.FacebookUtils.init({
    appId      : '692151217495840',
    status     : true, // check login status
    cookie     : true, // enable cookies to allow the server to access the session
    xfbml      : true  // parse XFBML
  });
	Parse.FacebookUtils.logIn(null, {
  success: function(user) {
    if (!user.existed()) {
      alert("User signed up and logged in through Facebook!");
    } else {
      alert("User logged in through Facebook!");
    }
  },
  error: function(user, error) {
    alert("User cancelled the Facebook login or did not fully authorize.");
  }
});
  };
  	var Event = Parse.Object.extend("Event",{
		defaults: {
			destination: "destination",
			expectedBack: "expectedBack",
			bufferTime: "buffer",
			userDescription: "userDescription",
			travelingWith: "travelingWith",
			meetingWho: "meeting",
			timeLeaving: "timeLeaving",
			doing: "doing"
		}
	});

	var UserObj = Parse.Object.extend({
	id : "facebookID",
	safe : "isSafe",
	friends : "userFriends"
	});

	/*
	/Get user ID
	*/
	function getUserID(){
	}

	/*
	//Find the event of the user if they have one
	*/
	function checkMyEvent(){
	}

	/*
	/Return if a user has posted an event
	*/
	function hasEvent()= new function(){
	}

	/*
	/Return friends of the user
	*/
	function myFriends(){
	}

	/*
	//Return missing friends of the user
	*/
	function missingFriends(){
	}

	/*
	//Return friends of the user's Event
	*/
	function getUserEvent(userID){
	}

	/*
	/Return if user is new
	*/ 
	function isNewUser(userID){
	}

	/*
	/add user to DB
	*/ 
	function addNewUser(userID){
	}

	//?
	FB.api('/me', function(response) {
 	 alert('Your name is ' + response.name);
 	 alert('Your ID is ' + response.id);
	});


	$("#eventForm").on("submit", function(e) {
		e.preventDefault();

		console.log("Handling the submit");
		//add error handling here
		//gather the form data

		var event = new Event();
		event.destination = $("#dest").val();
		event.destination = $("#back").val();
		event.destination = $("#wearing").val();
		event.destination = $("#with").val();
		event.destination = $("#meeting").val();


		event.save(null, {
			success:function() {
				console.log("Success");
				console.log(event.destination);
			},
			error:function(e) {
				console.dir(e);
			}
		});
		location.reload();
	});

});
